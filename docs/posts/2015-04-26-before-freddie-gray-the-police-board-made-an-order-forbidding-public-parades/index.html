<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.339">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eli Pousson">
<meta name="dcterms.date" content="2015-04-26">

<title>Eli Pousson - Before Freddie Gray: “The Police Board… made an order forbidding public parades”</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../files/favicon-512x512.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(images/02178u-1600-dark.jpg);
background-size: cover;
      }
</style>


<link rel="stylesheet" href="../../styles.css">
<meta name="twitter:title" content="Eli Pousson - Before Freddie Gray: “The Police Board… made an order forbidding public parades”">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Eli Pousson</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/elipousson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://dads.cool/@elipousson"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/elipousson"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Before Freddie Gray: “The Police Board… made an order forbidding public parades”</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Baltimore City</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://elipousson.github.io">Eli Pousson</a> <a href="https://orcid.org/0000-0001-8280-1706" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 26, 2015</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Yesterday, thousands of people&nbsp;assembled in downtown Baltimore to protest the death of Freddie Gray. Despite a largely peaceful assembly,&nbsp;media coverage of the protests has focused on the handful of vehicles&nbsp;and storefronts damaged during the day. This morning, I appreciated activist Deray McKesson’s reflections on troubling issues with the&nbsp;<a href="https://twitter.com/deray/status/592289538715811840">coverage of the protest</a>&nbsp; and the&nbsp;false equivalency between&nbsp;<a href="https://twitter.com/deray/status/592282869692813312">property damage and violence</a>.&nbsp;While researching the&nbsp;<a href="https://historicsprawl.wordpress.com/2015/04/24/before-freddie-gray-a-history-of-police-violence-in-baltimore/" title="Before Freddie Gray: A History of Police Violence in Baltimore">history of police violence in Baltimore</a>, I&nbsp;came across an early example&nbsp;of the police&nbsp;response to a black public assembly that I’d like to juxtapose&nbsp;with yesterday’s events.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ourpolicehistory00fols_0131-1600.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">John T. Gray from <a href="https://archive.org/stream/ourpolicehistory00fols#page/111/mode/1up">“Our police” (1888)</a></figcaption>
</figure>
</div>
<p>The&nbsp;account of this police response,&nbsp;published&nbsp;in 1883,&nbsp;describes&nbsp;how the Baltimore Police Marshal John T. Gray “took every precaution for the prevention of an outbreak” of violence during a celebratory parade and political rally that followed the adoption of the <a href="https://en.wikipedia.org/wiki/Fifteenth_Amendment_to_the_United_States_Constitution">Fifteenth Amendment</a>&nbsp;in 1870. It continues to share&nbsp;how black men in Baltimore organized&nbsp;“dozens of military companies,” armed with “old army muskets” and drilled on&nbsp;Baltimore’s streets. After&nbsp;the shooting young man by members of one of these regiments,&nbsp;Marshal John T. Gray&nbsp;attacks one of the companies&nbsp;(unclear if it was the same group&nbsp;implicated in the shooting),&nbsp;arrests their officers, and disarms the men.</p>
<p>It is hard to interpret&nbsp;this account from our contemporary perspective. I haven’t been able&nbsp;to fully corroborate&nbsp;this account&nbsp;in the <em>Baltimore Sun,</em>&nbsp;but if we accept this account as accurate it is important to note that the Baltimore police didn’t&nbsp;respond to the shooting by attempting&nbsp;arrest the individuals directly involved. Instead, the Baltimore&nbsp;Police Board “made an order forbidding public parades” and Police Marshal Gray targeted the <em>most prominent</em>&nbsp;company of black troops - the “crack” Lincoln Guard.&nbsp;By disarming and dismantling these organizations,&nbsp;the Baltimore police eliminated an important vehicle&nbsp;for black Baltimoreans to mobilize Republican voters and defend themselves against violence.</p>
<p>To be clear:&nbsp;I’m not arguing that the actions of the Baltimore police in 2015 are equivalent to the&nbsp;actions of the police in 1871. I’m not trying to suggest that the Lincoln Guard are the same as the protestors here today. However, the story contains important&nbsp;elements–elite&nbsp;fear of black public assembly, racist images&nbsp;of black political action, and&nbsp;the role&nbsp;of the police in protecting&nbsp;an ambiguous public interest–that suggest an important continuity between Baltimore in the 1870s and today.</p>
<p>On&nbsp;November 1, 1870, the&nbsp;<em>Baltimore Sun</em>,&nbsp;then strongly&nbsp;opposed to the Republican party and black suffrage, reported on a Democratic political&nbsp;rally where the&nbsp;images&nbsp;of&nbsp;black men armed with bayonets&nbsp;and black elected officials depicted as criminals were&nbsp;prominently displayed:</p>
<blockquote class="blockquote">
<p>A grand demonstration of the democratic conservative party, comprising an immense and brilliant procession, with torches, banners and devices, and an overwhelming mass meeting in Monument Square, took place last night upon the call of the democratic executive committee of the city.&nbsp;[…]</p>
<p>Thirteenth Ward–James Cosgove, chief marshal.–The display in this ward was good though in point of number not so large. A wagon, drawn by four horses, contained a monument, upon the front of which was a life-size portrait of Washington. […] There was a <strong>representation of a company of colored men pointing their bayonets</strong> at the place of holding the polls, with the inscription, “What free American has come to under radical rule.” There was also a <strong>picture of</strong> <strong>a man in the act of stealing spoons, with inscription as to type of the radical Congress</strong>, &amp;c.</p>
</blockquote>
<p>At the same rally, <a href="https://en.wikipedia.org/wiki/Thomas_Swann">Thomas Swann</a>, the immediate past Governor of Maryland and a&nbsp;member of the U.S. House of&nbsp;Representatives,&nbsp;shared his own&nbsp;comments on the&nbsp;threat of organized black voters:</p>
<blockquote class="blockquote">
<p><a href="https://en.wikipedia.org/wiki/John_Creswell">[General Creswell]</a> had come here to [Baltimore] to marshal his negro crowd of voters, and to attempt to overawe the democracy with threats of what the President would do with his soldiers.</p>
</blockquote>
<p>Baltimore’s newly enfranchised black citizens, including many veterans of the U.S. Colored Troops, could clearly see&nbsp;this procession and assembly as a serious threat to their own hard-won rights. But the police, of course, did not shut down Democratic rallies or parades.&nbsp;And in January 1870&nbsp;the Democratic party (and the <em>Baltimore Sun</em>) opposed the <a href="https://en.wikipedia.org/wiki/Enforcement_Act_of_1871_(third_act)">Enforcement Act of 1871</a>&nbsp;empowering&nbsp;President Ulysses S. Grant to suspend the writ of <em>habeas corpus</em>&nbsp;in trying to end the terrorism of the&nbsp;Ku Klux Klan (KKK).</p>
<p>This history can help us think about what we will fight for and what we won’t. Here is the account for your consideration:</p>
<hr>
<p>As Marshal of Baltimore Mr.&nbsp;Gray achieved a national reputation by the reforms he instituted and by the skill with which lie handled his force on many critical occasions. The great Emancipation Jubilee of the negroes in 1870 was the first serious occasion upon which Marshal Gray’s skill as a policeman showed itself prominently.&nbsp;This was the&nbsp;celebration by the negroes of their emancipation. In Baltimore, as well as in all the other Southern cities, certain classes of the white population still harbored a bitter feeling against the negroes, intensified by the offensive manner in which many of the latter had conducted themselves since their emancipation. <strong>The law abiding citizens, therefore looked with trepidation upon the preparations of the colored folk for this jubilee, and Marshal Gray took every precaution for the prevention of an outbreak.</strong> The day came and one of the most enormous civic parades ever witnessed in the United States took place. Fully ninety per cent of all the negroes in Baltimore and the surrounding country took part, either in the parade itself or as applauding spectators. It is estimated that not less than 30,000 negroes were in line. The parade marched past a certain point from before noon till well into the night before the last platoon had gone by.</p>
<p><img src="images/34808u-1600.jpg" class="img-fluid" alt="The Fifteenth Amendment&nbsp;from the&nbsp;Library of Congress">]</p>
<p>The populace of both races were apparently willing to fight and a general collision seemed imminent all day, but the police were everywhere, with their eyes on every man who seemed belligerently inclined. The moral influence of the force seemed to subdue the would-be rioters, and though a few unimportant brawls, took place the jubilee passed off without serious trouble anywhere in the city. Marshal Gray received flattering commendations from the newspapers and from citizens for the admirable manner in which the peace of the city was preserved during the critical period.</p>
<p>After the Emancipation Jubilee a military spirit seemed suddenly to seize the negro population of Baltimore. Dozens of military companies were formed, which drilled every evening in the streets much to the annoyance of quiet people. After the war an immense number of old-fashioned muskets were stored in the city by the United States Government. Of the old army muskets alone there were more than 12,000 stand. By some means these arms all fell into the hands of the negroes and they used them for their military companies. These organizations banded into regiments and numbered themselves the First, Second, Third, etc., Maryland Colored Regiments, although they were never admitted to the National Guard, nor recognized&nbsp;by the State military authorities. The South being at that time in a state of reconstruction the negroes were suffered to commit many offenses against the public peace which would never have been attempted or permitted on the part of the whites. <strong>Before long the negro regiments began the practice of taking full possession of every street they entered.</strong> They would march with fixed bayonets through the principal streets and clear everything before them from curb to curb. Wagons, carriages, and horse cars had to be turned back before them or else they were driven back under bayonet charge.</p>
<p>One evening in May 1871, the colored troops came down Baltimore street with fixed bayonets as usual, turning people and vehicles into side streets, when three young men who were talking together on the curb refused to move on and clear the way for the procession. A charge was made upon them and they were forced to flee around the nearest corner. As they went several of the negroes fired a volley at them and, one of the young men, a son of a well-known German citizen fell dead. He was shot through the heart. It turned out that he was a Republican in politics and had been a great friend of the negroes. They alleged that he threw a stone into the ranks of the procession but this was positively denied by every bystander. The funeral of the young German was the occasion of a large popular demonstration. Public indignation long since aroused by the offensiveness of the colored military organizations found voice in a general demand for their immediate suppression. As the negroes were in a certain sense under Federal protection, this was a difficult matter to accomplish.</p>
<p><strong>The Police Board, however, made an order forbidding public parades through the streets by any military organization not connected with the National Guard or National Government.</strong> When this order was read in the meeting places of the colored companies it was received with hoots and jeers of derision. The night that the order was issued, learning that the negroes were about to parade as usual, Marshal Gray sent to the headquarters of the “Lincoln Guard,” the “crack” company of the city, and warned them not to parade. Captain Delanty was laughed at when he delivered the order, and his voice drowned by the howls of the&nbsp;negroes.</p>
<p>He then stood outside of the building with his policemen. The negroes formed in the street but at the first step they took after the captain gave the order to march the <strong>police rushed up and arrested a large number of them</strong>. The others ran back into the building. <strong>The police sent those they had captured to the station house.</strong> They then entered the building and after a short struggle captured the arms of the remainder. Their muskets gone and their leaders in jail, the militiamen became disheartened and broke up their company.</p>
<p>[tweet 592102034935013376 align=‘center’]</p>
<p>On learning the fate of their principal company, a number of other organizations surrendered their arms, and in the course of a few months practically all the muskets formerly used by the negro troops had been captured by the police. The arms were afterward sent to Fort McHenry, as they were the property of the United States.</p>
<hr>
<p><em>Source: Folsom, De Francias.</em> Our Police: A History of the Baltimore Force from the First Watchman to the Latest Appointee_. J. D. Ehlers &amp; Company, 1888. (113-116)_</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{pousson2015,
  author = {Pousson, Eli},
  title = {Before {Freddie} {Gray:} “{The} {Police} {Board...} Made an
    Order Forbidding Public Parades”},
  date = {2015-04-26},
  url = {https://elipousson.github.io/posts/2015-04-26-before-freddie-gray-the-police-board-made-an-order-forbidding-public-parades},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-pousson2015" class="csl-entry quarto-appendix-citeas" role="listitem">
Pousson, Eli. 2015. <span>“Before Freddie Gray: <span>‘The Police
Board... Made an Order Forbidding Public Parades’</span>.”</span> April
26, 2015. <a href="https://elipousson.github.io/posts/2015-04-26-before-freddie-gray-the-police-board-made-an-order-forbidding-public-parades">https://elipousson.github.io/posts/2015-04-26-before-freddie-gray-the-police-board-made-an-order-forbidding-public-parades</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>